"use strict";function __extends(e,t){function a(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}function htmlEncode(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function generateSpace(e){for(var t="",a=0;a<e;a++)t+="Â ";return t}function objectSize(e){var t=0;for(var a in e)e.hasOwnProperty(a)&&t++;return t}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),JsonObject=function(e){function t(){var t=this;e.apply(this,arguments),this.state={Collapsed:!1},this.toggleCollapse=function(e){t.setState(function(e){return e.Collapsed=!e.Collapsed,e})}}return __extends(t,e),t.prototype.renderItems=function(e){var t=new Array,a=objectSize(e);for(var s in e){var r=htmlEncode(s),n=Formatter.valueToHtml(e[s],this.props.spaces,this.props.level);a--,t.push(React.createElement("div",{key:"object-item-"+s},generateSpace(this.props.level*this.props.spaces+this.props.spaces),React.createElement("span",{className:"key"},'"'+r+'"'),":",n,0!==a?",":""))}return t},t.prototype.render=function(){var e=this.renderItems(this.props.json),t=this.state.Collapsed?"collapsed":"";if(e.length>0){var a=this.props.level*this.props.spaces,s=React.createElement("div",{className:"items"},e);return this.state.Collapsed&&(s=React.createElement("span",{className:"count"},e.length),a=0),React.createElement("span",{className:"object "+t},React.createElement("span",{className:"brackets-start",onClick:this.toggleCollapse},"{"),s,React.createElement("span",{className:"brackets"},generateSpace(a),"}"))}return React.createElement("span",{className:"object"},"{ }")},t}(React.Component),JsonArray=function(e){function t(){var t=this;e.apply(this,arguments),this.state={Collapsed:!1},this.toggleCollapse=function(e){t.setState(function(e){return e.Collapsed=!e.Collapsed,e})}}return __extends(t,e),t.prototype.renderItems=function(e){var t=new Array,a=e.length;for(var s in e){var r=Formatter.valueToHtml(e[s],this.props.spaces,this.props.level);a--,t.push(React.createElement("div",{key:"array-item-"+s},generateSpace(this.props.level*this.props.spaces+this.props.spaces),r,0!==a?",":""))}return t},t.prototype.render=function(){var e=this.renderItems(this.props.json);if(e.length>0){var t=this.props.level*this.props.spaces,a=React.createElement("div",{className:"items"},e);return this.state.Collapsed&&(a=React.createElement("span",{className:"count"},e.length),t=0),React.createElement("span",{className:"array"},React.createElement("span",{className:"brackets-start",onClick:this.toggleCollapse},"["),a,React.createElement("span",{className:"brackets"},generateSpace(t),"]"))}return React.createElement("span",{className:"array"},"[ ]")},t}(React.Component),Formatter=function(){function e(){}return e.valueToHtml=function(t,a,s){void 0===s&&(s=-1);var r=typeof t,n=void 0;return s++,null==t?n=React.createElement("span",{className:"null"},"null"):t&&t.constructor===Array?n=React.createElement("span",{className:"array"},React.createElement(JsonArray,{json:t,spaces:a,level:s})):"object"===r?n=React.createElement("span",{className:"object"},React.createElement(JsonObject,{json:t,spaces:a,level:s})):"number"===r?n=React.createElement("span",{className:"number"},t):"string"===r?n=e.URL_PATTERN.test(t)?React.createElement("span",{className:"url"},'"',React.createElement("a",{href:t,target:"_blank"},t),'"'):React.createElement("span",{className:"string"},'"'+t+'"'):"boolean"===r&&(n=React.createElement("span",{className:"boolean"},t.toString())),n},e.URL_PATTERN=/^(http|https):\/\/[^\s]+$/,e}(),JsonView=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.render=function(){return React.createElement("div",{className:"json-view"},Formatter.valueToHtml(this.props.json,this.props.spaces))},t.defaultProps={json:void 0,spaces:4},t}(React.Component);exports.default=JsonView;